{"ast":null,"code":"var _jsxFileName = \"/Users/lubosjasko/WebstormProjects/openweathermap/pages/search/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { FormControl, InputLabel, Input, InputAdornment, IconButton, makeStyles, Typography, Button } from '@material-ui/core';\nimport { useRouter } from 'next/router';\nimport SearchIcon from '@material-ui/icons/Search';\nimport clsx from 'clsx';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap'\n  },\n  margin: {\n    margin: theme.spacing(1)\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3)\n  },\n  textField: {\n    width: '25ch'\n  },\n  listRow: {\n    'display': 'flex',\n    'justify-content': 'space-between'\n  }\n}));\n\nconst SearchScreen = () => {\n  const router = useRouter();\n  const classes = useStyles();\n  const {\n    0: Location,\n    1: SetLocation\n  } = useState();\n  const {\n    0: City,\n    1: SetCity\n  } = useState();\n  const {\n    0: LocalCity,\n    1: SetLocalCity\n  } = useState(City);\n  const temperature = process.env.units === 'metric' ? '℃' : '℉';\n  const citesId = process.env.cities.toString();\n  const fetchLocations = useCallback(async () => {\n    await fetch(`${process.env.apiUrl}?id=${citesId}&appid=${process.env.openApiKey}&units=${process.env.units}`).then(res => res.json()).then(response => {\n      SetCity(response.list);\n      SetLocalCity(response.list);\n    });\n  }, [SetCity, citesId]);\n  useEffect(() => {\n    fetchLocations();\n  }, [fetchLocations]);\n  const handleChange = useCallback(event => {\n    SetLocation(event.target.value);\n    SetLocalCity(City.filter(city => city.name.toLowerCase().includes(event.target.value)));\n  }, [SetLocation, SetLocalCity, City]);\n  const handleClickDetailWeather = useCallback(cityId => {\n    router.push(`/detail?id=${cityId}`, '/detail');\n  }, [router]);\n\n  if (!City) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(Typography, {\n    align: \"center\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, 'Location'), __jsx(FormControl, {\n    fullWidth: true,\n    className: clsx(classes.margin, classes.textField),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, __jsx(InputLabel, {\n    htmlFor: \"standard-adornment-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Search city...\"), __jsx(Input, {\n    id: \"location-input\",\n    type: \"text\",\n    value: Location,\n    onChange: handleChange,\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, __jsx(IconButton, {\n      \"aria-label\": \"toggle location visibility\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, __jsx(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }))), LocalCity && LocalCity.map(city => {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      key: city.name,\n      onClick: () => handleClickDetailWeather(city.id),\n      className: classes.listRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, __jsx(Button, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, city.name), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, Math.round(city.main.temp), \" \"), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, temperature))));\n  }));\n};\n\nexport default SearchScreen;","map":{"version":3,"sources":["/Users/lubosjasko/WebstormProjects/openweathermap/pages/search/index.tsx"],"names":["React","useCallback","useEffect","useState","FormControl","InputLabel","Input","InputAdornment","IconButton","makeStyles","Typography","Button","useRouter","SearchIcon","clsx","useStyles","theme","root","display","flexWrap","margin","spacing","withoutLabel","marginTop","textField","width","listRow","SearchScreen","router","classes","Location","SetLocation","City","SetCity","LocalCity","SetLocalCity","temperature","process","env","units","citesId","cities","toString","fetchLocations","fetch","apiUrl","openApiKey","then","res","json","response","list","handleChange","event","target","value","filter","city","name","toLowerCase","includes","handleClickDetailWeather","cityId","push","map","id","Math","round","main","temp"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react'\nimport {FormControl, InputLabel, Input, InputAdornment, IconButton, makeStyles, Typography, Button} from '@material-ui/core'\nimport {useRouter} from 'next/router'\nimport SearchIcon from '@material-ui/icons/Search'\nimport clsx from 'clsx'\nimport {ListResponse} from '../types'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(3),\n  },\n  textField: {\n    width: '25ch',\n  },\n  listRow: {\n    'display': 'flex',\n    'justify-content': 'space-between',\n\n  },\n}))\n\nconst SearchScreen = ():JSX.Element => {\n  const router = useRouter()\n\n  const classes = useStyles()\n  const [Location, SetLocation] = useState<ListResponse[]>()\n  const [City, SetCity] = useState<ListResponse[]>()\n  const [LocalCity, SetLocalCity] = useState<ListResponse[]>(City)\n  const temperature = process.env.units === 'metric'? '℃' : '℉'\n  const citesId = process.env.cities.toString()\n\n  const fetchLocations = useCallback(async () => {\n    await fetch(`${process.env.apiUrl}?id=${citesId}&appid=${process.env.openApiKey}&units=${process.env.units}`)\n        .then((res) => res.json())\n        .then((response) => {\n          SetCity(response.list)\n          SetLocalCity(response.list)\n        })\n  }, [SetCity, citesId])\n\n\n  useEffect(() => {\n    fetchLocations()\n  }, [fetchLocations])\n\n  const handleChange = useCallback((event) => {\n    SetLocation(event.target.value)\n    SetLocalCity(City.filter((city) => city.name.toLowerCase().includes(event.target.value)))\n  }, [SetLocation, SetLocalCity, City])\n\n  const handleClickDetailWeather = useCallback((cityId: number)=> {\n    router.push(`/detail?id=${cityId}`, '/detail')\n  }, [router])\n\n\n  if (!City) {\n    return <div>Loading...</div>\n  }\n\n  return (\n    <>\n      <div className={classes.root}>\n        <Typography align=\"center\" variant='h5'>{'Location'}</Typography>\n        <FormControl fullWidth className={clsx(classes.margin, classes.textField)}>\n          <InputLabel htmlFor=\"standard-adornment-password\">Search city...</InputLabel>\n          <Input\n            id=\"location-input\"\n            type='text'\n            value={Location}\n            onChange={handleChange}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle location visibility\">\n                  <SearchIcon/>\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n      {LocalCity && LocalCity.map((city) => {\n        return (\n          <>\n            <div key={city.name} onClick={() => handleClickDetailWeather(city.id)} className={classes.listRow}>\n              <Button color=\"primary\">{city.name}</Button>\n              <div>\n                <span>{Math.round(city.main.temp)} </span>\n                <span>{temperature}</span>\n              </div>\n            </div>\n          </>\n        )\n      },\n      )}\n    </>\n  )\n}\n\nexport default SearchScreen\n"]},"metadata":{},"sourceType":"module"}